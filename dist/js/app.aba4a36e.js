(function(e){function t(t){for(var a,s,c=t[0],i=t[1],l=t[2],d=0,p=[];d<c.length;d++)s=c[d],o[s]&&p.push(o[s][0]),o[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://markschmidt42.github.io/yahtzee/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),o=n.n(a);o.a},"15c7":function(e,t,n){},2444:function(e,t,n){"use strict";var a=n("41e7"),o=n.n(a);o.a},"28c9":function(e,t,n){"use strict";var a=n("15c7"),o=n.n(a);o.a},"41e7":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=n("1881"),r=n.n(o),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Board")],1)},c=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{transform:"scale("+e.zoomScale+")"}},["add-players"==this.mode?n("div",{staticClass:"add-players-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPlayerName,expression:"newPlayerName"}],ref:"newPlayer",attrs:{type:"text",maxlength:"8"},domProps:{value:e.newPlayerName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleAddPlayer(t)},input:function(t){t.target.composing||(e.newPlayerName=t.target.value)}}}),n("button",{attrs:{href:"#"},on:{click:e.handleAddPlayer}},[e._v("Add Players")]),e.players.length>0?n("button",{attrs:{href:"#"},on:{click:e.startGame}},[e._v("Start Game")]):e._e(),n("ol",e._l(e.players,function(t,a){return n("li",{key:t.name,staticClass:"player",attrs:{name:t.name},on:{click:function(t){return e.handleRemovePlayer(a)}}},[e._v("\n      "+e._s(t.name)+"\n    ")])}),0)]):e._e(),"add-players"!=this.mode?n("div",e._l(e.sections,function(t){return n("div",{key:t.name,staticClass:"board"},[n("div",{staticClass:"col label"},[t.showHeader?n("div",{staticClass:"header cell",class:t.code},[n("h3",[e._v(e._s(t.name))])]):e._e(),e._l(t.categories,function(a){return n("div",{key:a.code,staticClass:"cell category",class:t.code},[n("strong",[e._v(e._s(a.name))]),n("div",{staticClass:"how"},[e._v("\n            "+e._s(a.how)+"\n          ")])])}),e._l(t.totals,function(a){return n("div",{key:a.code,staticClass:"cell total",class:t.code},[e._v("\n          "+e._s(a.name)+"\n          "),a.how?n("div",{staticClass:"how"},[e._v("\n            "+e._s(a.how)+"\n          ")]):e._e()])})],2),e._l(e.players,function(a,o){return n("div",{key:a.name,staticClass:"col player",class:[a.isCurrent?"current":""],attrs:{name:a.name}},[t.showHeader?n("div",{staticClass:"header cell",class:t.code},[n("h3",[e._v(e._s(a.name))])]):e._e(),e._l(t.categories,function(t){return n("div",{key:t.code,staticClass:"cell category"},[n("ScoreInput",{attrs:{category:t,type:"category",playerIndex:o,player:a,value:e.getScore(a,t)}})],1)}),e._l(t.totals,function(e){return n("div",{key:e.code,staticClass:"cell total",class:t.code},[n("ScoreInput",{attrs:{category:e,type:"total",value:a.scores[e.code]||0}})],1)})],2)})],2)}),0):e._e(),"add-players"!=this.mode?n("div",{staticClass:"scorebaord"},["playing"==this.mode?n("div",[n("div",{staticClass:"rounds"},[e._v("Round "),n("strong",[e._v(e._s(e.round))]),e._v(" of "+e._s(e.roundMax))]),n("div",{staticClass:"roundsLeft"},[e._v(e._s(1+e.roundMax-e.round)+" play"+e._s(1+e.roundMax-e.round!=1?"s":"")+" left")])]):n("div",[n("div",{staticClass:"rounds"},[e._v("GAME OVER")]),n("div",{staticClass:"winner"},[n("h4",[e._v(e._s(this.getPlayersByScore()[0].name)),n("br"),e._v("IS THE WINNER")])])]),n("div",{staticClass:"leaderboard"},[n("h4",[e._v("Yahtzee Leaderboard")]),e._l(this.getPlayersByScore(),function(t){return n("div",{key:t.name,class:["placement-"+t.currentPosition],attrs:{name:t.name}},[n("div",{staticClass:"item"},[n("div",{staticClass:"placement",domProps:{innerHTML:e._s(e.getPlacement(t))}}),n("div",{staticClass:"name"},[e._v(e._s(t.name))]),n("div",{staticClass:"score"},[e._v(e._s(t.final))])])])})],2),"end"!==this.mode?n("div",{staticClass:"turn-info"},[n("h4",[e._v(e._s(this.players[e.currenmtPlayerIndex].name)+"'s Turn")]),e._l(e.sections,function(t){return n("div",{key:t.name},e._l(t.categories,function(a){return n("div",{key:a.code},[n("div",{staticClass:"cell category",class:[t.code,{used:null!==e.getScore(e.players[e.currenmtPlayerIndex],a)}]},[e._v(e._s(a.name))])])}),0)})],2):e._e()]):e._e(),n("modal",{attrs:{name:"hello-world"}},[e._v("\n    hello, world!\n  ")])],1)},l=[],u=(n("55dd"),n("28a5"),n("ac6a"),n("a481"),n("44ba")),d=n.n(u),p=new a["a"],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input",class:[e.category.type,{active:e.hover},{needs:null==e.value},{used:null!=e.value}],attrs:{type:"text","code:":"this.category.code"},on:{mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1},click:function(t){return e.handleOnClick()},dblclick:function(t){return e.handleOnDblClick()}}},[e._v("\n    "+e._s(null==e.value&&this.player.isCurrent?e.category.name:e.value)+"\n")])},y=[],f=(n("5df3"),n("1c4c"),n("75fc")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-input"},[n("h4",[e._v("Please enter the "),n("strong",[e._v(e._s(e.category.name))]),n("br"),e._v("score for "),n("strong",[e._v(e._s(e.player.name))])]),n("div",{staticClass:"options"},[e._l(e.options,function(t){return n("div",{key:t,class:{full:0===t||e.options.length<=2,upper:5==e.options.length},on:{click:function(n){return e.handleClick(t)}}},[n("div",{staticClass:"option"},[e._v(e._s(t))])])}),null!==e.value?n("div",{staticClass:"full",on:{click:function(t){return e.handleClick(null)}}},[n("div",{staticClass:"option"},[e._v("Clear Score ("+e._s(e.value)+")")])]):e._e()],2)])},v=[],g={name:"ScoreModal",props:["value","options","playerIndex","player","category","isOutOfOrderEntry"],methods:{handleClick:function(e){p.$emit("modal-value-set",{playerIndex:this.playerIndex,categoryCode:this.category.code,isOutOfOrderEntry:this.isOutOfOrderEntry,value:e}),this.$modal.hide("input-modal")}}},_=g,w=(n("28c9"),n("2877")),C=Object(w["a"])(_,m,v,!1,null,"02523e61",null),P=C.exports,O={name:"ScoreInput",components:{ScoreModal:P},props:["playerIndex","player","category","value"],data:function(){return{hover:!1}},methods:{isOutOfOrderEntry:function(){return!this.player.isCurrent||null!=this.value},handleOnClick:function(){return!this.isOutOfOrderEntry()&&(this.openModal(),!0)},handleOnDblClick:function(){return!!this.isOutOfOrderEntry()&&(this.openModal(),!0)},openModal:function(){this.$modal.show(P,{options:this.getPossibleScores(),player:this.player,playerIndex:this.playerIndex,category:this.category,value:this.value,isOutOfOrderEntry:this.isOutOfOrderEntry()},{name:"input-modal",width:780,height:"auto",draggable:!0})},getPossibleScores:function(){var e=[];if(this.category.options)e=[].concat(Object(f["a"])(e),Object(f["a"])(this.category.options));else{var t=Array.from(Array(25),function(e,t){return t+5});e=[].concat(Object(f["a"])(e),Object(f["a"])(t))}return e=e.reverse(),e.push(0),e},saveScore:function(e){this.$emit("update-score",{playerIndex:this.playerIndex,categoryCode:this.category.code,value:e,isOutOfOrderEntry:this.isOutOfOrderEntry()})}}},b=O,S=(n("2444"),Object(w["a"])(b,h,y,!1,null,null,null)),k=S.exports,x={toTitleCase:function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},E={name:"Board",components:{ScoreInput:k},data:function(){return{zoomScale:1,mode:"add-players",newPlayerName:"",round:1,roundMax:13,currenmtPlayerIndex:0,players:[],sections:[{name:"Upper Section",code:"upper-section",showHeader:!0,categories:[{code:"1s",name:"Aces",how:"Count and add only Aces",type:"upper",options:[1,2,3,4]},{code:"2s",name:"Twos",how:"Count and add only Twos",type:"upper",options:[2,4,6,8]},{code:"3s",name:"Threes",how:"Count and add only Threes",type:"upper",options:[3,6,9,12]},{code:"4s",name:"Fours",how:"Count and add only Fours",type:"upper",options:[4,8,12,16]},{code:"5s",name:"Fives",how:"Count and add only Fives",type:"upper",options:[5,10,15,20]},{code:"6s",name:"Sixes",how:"Count and add only Sixes",type:"upper",options:[6,12,18,24]}],totals:[{code:"uts",name:"Total",calc:["1s","2s","3s","4s","5s","6s"]},{code:"bonus",name:"Bonus",how:"If total score is >= 63. +35",calc:"upper-bonus"},{code:"ugt",name:"Upper Section Total",calc:["uts","bonus"]}]},{name:"Lower Section",code:"lower-section",showHeader:!0,categories:[{code:"3oak",name:"3 of a Kind",how:"Add total of all dice",options:null},{code:"4oak",name:"4 of a Kind",how:"Add total of all dice",options:null},{code:"fh",name:"Full House",how:"Score 25",type:"on-off",options:[25]},{code:"smst",name:"Sm Straight",how:"Score 30",type:"on-off",options:[30]},{code:"lgst",name:"Lg Straight",how:"Score 40",type:"on-off",options:[40]},{code:"yhtz",name:"Yahtzee",how:"Score 50",type:"on-off",options:[50]},{code:"chnc",name:"Chance",how:"Add total of all dice",options:null},{code:"yb",name:"Yahtzee Bonus",how:"Score 100 per",type:"yahtzee-bonus",options:[100,200,300,400]}],totals:[{code:"flts",name:"Lower Section Total",calc:["3oak","4oak","fh","smst","lgst","yhtz","chnc","yb"]},{code:"futs",name:"Upper Section Total",calc:["ugt"]}]},{name:"Grand Total",code:"grand-total",showHeader:!1,totals:[{code:"fgt",name:"Grand Total",calc:["flts","futs"]}]}]}},methods:{focusOnNewPlayerAdd:function(){this.newPlayerName="",this.$refs.newPlayer.focus()},handleAddPlayer:function(){""!==this.newPlayerName?(this.addPlayer(this.newPlayerName),this.focusOnNewPlayerAdd()):this.startGame()},handleRemovePlayer:function(e){this.players.splice(e,1),this.focusOnNewPlayerAdd()},updateZoom:function(e){this.zoomScale+=e,document.getElementsByTagName("body")[0].style.transform="'scale('".concat(this.zoomScale,")'")},addPlayers:function(e){var t=this;e.split(" ").forEach(function(e){"and"!==e&&t.addPlayer(e)})},addPlayer:function(e){var t={};this.sections.forEach(function(e){e.categories&&e.categories.forEach(function(e){t[e.code]=null}),e.totals&&e.totals.forEach(function(e){t[e.code]=0})});var n=x.toTitleCase(e);switch(n){case"Bunny":case"Bonnie":n="Bonny";break;case"Maya":n="Mya";break;case"Dead":n="Dad";break;default:}this.players.push({name:n,isCurrent:!1,currentPosition:null,scores:t,final:0})},setCurrentPlayer:function(e){this.players[e].isCurrent=!0,this.currenmtPlayerIndex=e},startGame:function(){this.mode="playing",this.setCurrentPlayer(0)},endGame:function(){this.mode="end"},getPlayersByScore:function(){return this.players.slice().sort(function(e,t){return t.final-e.final})},updatePositions:function(){var e=this,t=this.getPlayersByScore();function n(e,t,n){for(var a=0;a<e.length;a+=1)if(e[a][t]===n)return a;return-1}this.players.forEach(function(a,o){e.players[o].currentPosition=n(t,"final",e.players[o].final)+1})},getPlacement:function(e){switch(e.currentPosition){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";case 4:return"4th";case 5:return"5th";case 6:return"6th";case 7:return"7th";case 8:return"8th";default:return""}},getScore:function(e,t){return e.scores&&null!=e.scores[t.code]?e.scores[t.code]:null},nextPlayer:function(e){this.players[e].isCurrent=!1;var t=e+1;t>=this.players.length&&(t=0,this.nextRound()),"end"!==this.mode&&this.setCurrentPlayer(t)},nextRound:function(){this.updatePositions(),this.round+=1,this.round>this.roundMax&&this.endGame()},updatePlayerTotals:function(e){var t=this;this.sections.forEach(function(n){n.totals&&n.totals.forEach(function(n){t.updatePlayerTotal(e,n)})})},updatePlayerTotal:function(e,t){var n=0,a=this.players[e];if(Array.isArray(t.calc))return t.calc.forEach(function(e){n+=a.scores[e]||0}),a.scores[t.code]=n,void("fgt"===t.code&&(a.final=n));"upper-bonus"===t.calc&&a.scores.uts>=63?a.scores[t.code]=35:a.scores[t.code]=n},updateScore:function(e){var t=e.playerIndex;this.players[t].scores[e.categoryCode]=e.value,this.updatePlayerTotals(t),this.round>1&&this.updatePositions(),e.isOutOfOrderEntry||null==e.value||this.nextPlayer(t)},listenForNames:function(){var e={"add (player) :name":this.addPlayer,"add (players) *name":this.addPlayers,"start (the) game":this.startGame,"play (the) game":this.startGame,"play yahtzee":this.startGame};d.a.addCommands(e),d.a.start()}},mounted:function(){var e=this;this.focusOnNewPlayerAdd(),this.listenForNames(),p.$on("modal-value-set",function(t){e.updateScore(t)})},ready:function(){window.addEventListener("keypress",function(e){return 40!==e.keyCode||(this.updateZoom(-.1),!1)})}},T=E,I=(n("b2e8"),Object(w["a"])(T,i,l,!1,null,null,null)),A=I.exports,M={name:"app",components:{Board:A}},N=M,j=(n("034f"),Object(w["a"])(N,s,c,!1,null,null,null)),B=j.exports;a["a"].use(r.a,{dynamic:!0,injectModalsContainer:!0,dynamicDefaults:{clickToClose:!1,dialog:!0}}),a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(B)}}).$mount("#app")},"64a9":function(e,t,n){},b2e8:function(e,t,n){"use strict";var a=n("dcc5"),o=n.n(a);o.a},dcc5:function(e,t,n){}});
//# sourceMappingURL=app.aba4a36e.js.map